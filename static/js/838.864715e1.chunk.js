"use strict";(self.webpackChunkcar_rental_app_ts=self.webpackChunkcar_rental_app_ts||[]).push([[838],{838:(e,n,a)=>{a.r(n),a.d(n,{default:()=>g});var t=a(791),r=a(294);var s,o,c=a(44),i=a(131),l=a(75),p=a(168),d=a(82);const f=d.ZP.div(s||(s=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  padding: 50px 128px 150px 128px;\n"]))),u=d.ZP.button(o||(o=(0,p.Z)(["\n  color: #3470ff;\n  font-family: Manrope;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 1.5;\n  text-decoration-line: underline;\n  padding: 0 20px;\n\n  border: none;\n  background-color: transparent;\n\n  &:hover,\n  &:focus {\n    color: #0b44cd;\n  }\n"])));var h=a(184);const g=e=>{let{cars:n,setCars:a,favoriteToggle:s}=e;const[o,p]=(0,t.useState)(1),[d,g]=(0,t.useState)(null),[x,b]=(0,t.useState)(!1),[v,m]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{try{b(!0);const e=localStorage.getItem("favs")?JSON.parse(localStorage.getItem("favs")||"{}").map((e=>e.id)):[],n=await(async e=>await r.Z.get("".concat("https://6474cb4d7de100807b1bc2dc.mockapi.io","/cars"),{params:{page:e,limit:8}}))(o),t=n.data.map((n=>({...n,favorite:!!e.includes(n.id)})));a((e=>[...e,...t]))}catch(d){d instanceof Error&&g("Error happend")}finally{b(!1)}})()}),[o,a]),(0,h.jsxs)(f,{children:[x&&(0,h.jsx)(l.Z,{}),d&&(0,h.jsx)("div",{children:"Error happend"}),(0,h.jsx)(c.Z,{cars:n,setVisibleCars:m}),(0,h.jsx)(i.Z,{cars:n,setFavorite:s,visibleCars:v}),n.length>0&&n.length%8===0&&(0,h.jsx)(u,{type:"button",onClick:()=>{p(o+1)},children:"Load more"})]})}}}]);
//# sourceMappingURL=838.864715e1.chunk.js.map